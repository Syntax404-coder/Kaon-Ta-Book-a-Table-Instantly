<h1>Confirm Reservation</h1>

<% if @reservation.errors.any? %>
  <div style="color: red; margin-bottom: 20px;">
    <h3><%= pluralize(@reservation.errors.count, "error") %> prohibited this reservation:</h3>
    <ul>
      <% @reservation.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
    </ul>
  </div>
<% end %>

<div style="background-color: #C0C0C0; padding: 20px; border: 2px solid black; font-family: 'Times New Roman', serif; max-width: 500px;">
  <p><strong>Date:</strong> <%= @table.start_time.in_time_zone("Asia/Manila").strftime("%B %d, %Y") %></p>
  <p><strong>Time:</strong> <%= @table.start_time.in_time_zone("Asia/Manila").strftime("%I:%M %p") %></p>
  <p><strong>Available Seats:</strong> <%= @table.remaining_seats %></p>

  <%= form_with url: reservations_path, method: :post, local: true do |form| %>
    <%= hidden_field_tag :table_id, @table.id %>
    
    <div style="margin-bottom: 15px;">
      <%= label_tag :guest_count, "Number of Guests:" %>
      <%= number_field_tag :guest_count, @reservation.guest_count, min: 1, max: @table.remaining_seats, style: "width: 60px; padding: 5px; border: 2px inset #ffffff;" %>
    </div>
    
    <div>
      <%= form.submit "Confirm Booking", class: "btn btn-primary" %>
      <%= link_to "Cancel", tables_path, class: "btn btn-danger", style: "margin-left: 10px;" %>
    </div>
  <% end %>
</div>
